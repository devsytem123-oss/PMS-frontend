<div class="profile-wrapper">

  <div *ngIf="profileData$" class="profile-card">
    <h2>User Profile</h2>

    <p><strong>Name:</strong> {{ (profileData$ | async)?.userId?.name }}</p>
    <p><strong>Email:</strong> {{ (profileData$ | async)?.userId?.email }}</p>
    <p><strong>Role:</strong> {{ (profileData$ | async)?.userId?.role }}</p>
    <p><strong>Phone:</strong> {{ (profileData$ | async)?.phone }}</p>
    <p><strong>Address:</strong> {{ (profileData$ | async)?.address }}</p>
    <p><strong>Skills:</strong> {{ (profileData$ | async)?.skills }}</p>

    <button (click)="editMode = true">Edit Profile</button>
    <button (click)="deleteProfile()">Delete Profile</button>
  </div>

  <div *ngIf="!profileData$ || editMode">
    <form [formGroup]="profileForm">
      <h2>{{ profileData$ ? 'Update Profile' : 'Create Profile' }}</h2>

      <input type="text" placeholder="Phone"  formControlName="phone" name="phone" />
      <input type="text" placeholder="Address" formControlName="address"  name="address" />
      <input type="text" placeholder="Skills" formControlName="skills"  name="skills" />

    @if (profileData$) {
      <button type="button" (click)="update()">Update</button>
       <button type="button" (click)="updateStatus()">close</button>
    } @else {
      <button type="button" (click)="addProfile()">Create</button>
    }
    </form>
  </div>

</div>
